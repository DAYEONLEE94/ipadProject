<!DOCTYPE html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/boardList.css">
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<title>인구분석-유동인구</title>
</head>



<body>


	<div class="container" id="qImgBox">
		<img src="/img/Q&A.jpg" alt="">
	</div>


	<div class="container">

		<div class="table-responsive">
			<div class="search">

				<input type="text" name="" id="">
				<svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" fill="currentColor" class="bi bi-search"
					viewBox="0 0 16 16">
					<path
						d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
				</svg>

			</div>

			<table class="table">
				<thead class="table-dark">
					<tr>
						<th>번호</th>
						<th style="width: 55%;">제목</th>
						<th style="width: 15%;">작성일</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="question, loop : ${questionList}">
						<td th:text="${loop.count}"></td>
						<td>
							<a th:href="@{|/question/detail/${question.id}|}" th:text="${question.title}"></a>
						</td>

						<td th:text="${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}"></td>
					</tr>
				</tbody>



			</table>
			<a th:href="@{/question/write}"><button type="button" class="btn btn-primary" data-bs-toggle="modal"
					data-bs-target="#exampleModal">글쓰기</button></a>

		</div>
	</div>

	<p>
		<!-- 페이지 카운터링 소스 작성 !-->
		<th:if test="${count > 0}">
			<th:set var="pageCount" value="${count / pageSize + (count%pageSize == 0 ? 0 : 1)}" />
			<th:set var="startPage" value="${1}" />
			<th:if test="${currentPage %10 != 0}">
				<!-- 결과를 정수형으로 리턴 받아야 함 -->
				<fmt:parseNumber var="result" value="${currentPage/10 }" integerOnly="true" />
				<th:set var="startPage" value="${result*10+1}" />
			</th:if>

			<th:if test="${currentPage %10 == 0}">
				<!-- 결과를 정수형으로 리턴 받아야 함 -->
				<fmt:parseNumber var="result" value="${currentPage/10}" integerOnly="true" />
				<th:set var="startPage" value="${(result-1)*10+1}" />
			</th:if>

			<!-- 화면에 보여질 페이지 숫자 처리  -->
			<th:set var="pageBlock" value="${10}" />
			<th:set var="endPage" value="${startPage+pageBlock-1}" />

			<th:if test="${endPage > pageCount}">
				<th:set var="endPage" value="${pageCount}" />
			</th:if>

			<!-- 이전 링크를 걸지 파악 -->
			<center>
				<th:if test="${startPage > 10}">
					<a href="${pageContext.request.contextPath}/board/boardList.do?pageNum=${startPage-10}">[이전]</a>
				</th:if>



				<!--페이징처리  -->

				<th:forEach var="i" begin="${startPage}" end="${endPage}">
					<a href="${pageContext.request.contextPath}/board/boardList.do?pageNum=${i}">[쪽 번호]</a>

				</th:forEach>

				<!-- 다음 !-->
				<th:if test="${endPage<pageCount}">
					<a href="${pageContext.request.contextPath}/board/boardList.do?pageNum=${startPage-10}">[다음]</a>
				</th:if>
			</center>
		</th:if>





</body>

</html>